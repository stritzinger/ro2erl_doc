# ro2erl_hub: Frontend Specification

## Overview
The ro2erl_hub application includes a web frontend that provides monitoring and configuration capabilities for the ROS2 Enhanced Reliability Layer. This document outlines the frontend requirements, layout, and integration with the hub component.

## First Milestone Frontend Implementation

### Core Functionality
- Simple authenticated access via URL token
- Bridge status display
- Topic listing with basic metrics and inline rule management
- System-wide statistics overview

### User Interface Layout

#### Bridge Status Panel
- Straightforward list of connected bridges with their status
- No filtering or search functionality in initial implementation
- Simple visual indicators for online/offline status

#### Topic Management Panel
- List view of all active topics across connected bridge nodes
- Each topic displayed as a single row containing:
  - Topic name/identifier
  - Brief QoS description (generated by the hub)
  - Basic metrics (sample rate and bandwidth usage)
  - Visual indicator showing if filtering is possible based on QoS
  - Current rule status (enabled/disabled)

#### Inline Rule Management
- For compatible topics, inline bandwidth limitation controls:
  - Input field for bandwidth limit value
  - "Apply" button to activate the rule
  - "Disable" button for active rules
- No separate rule creation interface or complex configuration

#### Status Bar
- System-wide health metrics at the bottom of the interface
- Aggregated bandwidth usage statistics
- Simple visual indicators for overall system health

### Authentication
- URL-based token authentication (initial implementation)
- Token configured through ro2erl_hub environment variables
- No user management or settings interface

## Hub/Frontend Integration

The specific integration mechanisms between the ro2erl_hub backend and the frontend will be determined during the implementation phase. The options outlined below are preliminary suggestions intended as a starting point for further design discussions.

### Potential API Approaches

#### REST API Option
A RESTful API could provide structured data access with endpoints such as:
- `GET /api/bridges` - List connected bridges
- `GET /api/topics` - List active topics
- `GET /api/rules` - List bandwidth rules
- `POST /api/rules` - Create/update rules
- `DELETE /api/rules/:id` - Remove/disable rules

#### WebSocket Option
For real-time updates, WebSockets could be employed to push data to the frontend:
- Event-based updates for bridge status changes
- Periodic updates for topic metrics
- System-wide statistics updates

The final API design will be determined during implementation, considering factors such as performance requirements, development complexity, and specific use cases for the first milestone.

### Data Models
The data structures exchanged between the frontend and backend will be defined during implementation, with focus on providing the minimal necessary information to support the first milestone functionality.

## Technology Considerations

### Frontend Implementation
- Lightweight SPA using minimal dependencies
- Clean, functional design prioritizing readability
- Optimized for desktop use cases
- Served directly by the ro2erl_hub application

### Backend Integration
- Cowboy web server integrated within the ro2erl_hub application
- JSON serialization for data exchange
- Token validation through the grisp.io framework
- Direct access to hub's internal state and metrics

## Future Enhancements

### UI Improvements
- Advanced topic filtering and search capabilities
- Detailed topic inspector panel with extended metrics
- Historical data visualization with charts and graphs
- Responsive design for mobile access

### Advanced Features
- System configuration management interface
- User management and role-based access control
- Advanced rule creation with complex conditions
- Predictive analytics for network usage

### Administrative Tools
- Authentication token management interface
- System diagnostics and troubleshooting tools
- Backup and restore functionality
- Hub configuration management 